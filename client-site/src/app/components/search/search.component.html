<section class="events-section">
  <h2 class="section-title">Events Search</h2>

  <div class="search-form">
    <div class="form-row">
      <div class="form-group">
        <label for="date-from">Date Range</label>
        <input 
          type="date" 
          id="date-from" 
          name="date-from"
          [(ngModel)]="dateFrom">
        <span style="margin: 0 10px;">to</span>
        <input 
          type="date" 
          id="date-to" 
          name="date-to"
          [(ngModel)]="dateTo">
      </div>

      <div class="form-group">
        <label for="location">Location</label>
        <input 
          type="text" 
          id="location" 
          name="location" 
          placeholder="Enter city"
          [(ngModel)]="location">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="category-select">Event Categories</label>
        <select 
          id="category-select" 
          name="category"
          [(ngModel)]="selectedCategory">
          <option value="">Select a category</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{ category.name }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="clearFilters()">Clear Filters</button>
      <button type="button" class="btn btn-primary" (click)="searchEvents()">Search Events</button>
    </div>
  </div>

  <div *ngIf="loading" id="loading">
    <h2>Loading events...</h2>
  </div>
  
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div class="events-container">
    <div class="event-card" *ngFor="let event of events">
      <div class="event-content">
        <h3 class="event-title">{{ event.title }}</h3>
        <div class="event-meta">
          <div class="event-date">{{ formatDate(event.start_date) }}</div>
          <div class="event-location">{{ event.location }}</div>
          <div class="event-category">{{ event.category_name }}</div>
        </div>
        <p class="event-description">{{ event.description }}</p>
        <div class="event-target">
          <strong>Target audience:</strong> {{ event.target }}
        </div>
        <a (click)="viewDetails(event.id)" class="view-details btn">View Details</a>
      </div>
    </div>
  </div>
</section>